{
  "name": "js_of_ocaml",
  "git_commit": "2b73bdb730bf1e4a1e51b9c7311e73b31c0d98f1",
  "change_types": [
    "oxcaml",
    "compatibility",
    "new-feature",
    "bugfix",
    "build-fix"
  ],
  "summary": "Extensive patches for OxCaml compatibility including Float32, Null constant, unboxed types, mixed blocks, atomics, and OCaml 5.2 compiler API changes.",
  "details": "## OxCaml/Jane Street Compatibility\n- **Float32 support**: Full Float32 type implementation in the IR (code.ml/mli), evaluation (eval.ml), JS and WASM code generation, with new float32.js/float32.wat runtime files\n- **Null constant support**: Added `Const_null` handling in the compiler (code.ml, eval.ml, gc_target.ml)\n- **Mixed blocks**: Support for mixed block bytecode operations\n- **Unboxed types**: Support for unboxed indexing operations and int_u array primitives\n- **Atomics**: Extensive atomic field operations (load, store, cas, fetch_add, exchange, etc.) for both JS and WASM runtimes\n\n## OCaml 5.2 Compiler API Compatibility\n- **compilation_unit changes**: Updated from `Cmo_format.compilation_unit` to `Cmo_format.compilation_unit_descr`\n- **Import_info**: Handle new `Import_info.t array` format for CRCs\n- **Compilation_unit.Name**: Use `name_as_string` for module name access\n- **Ident.is_global**: Compatibility for identifier API changes\n\n## Runtime Additions\n- **caml_hash_exn**: Renamed hash function export for exception handling\n- **caml_with_async_exns**: New primitive for async exception handling via `Sys.with_async_exns`\n- **caml_bigstring_strncmp**: New bigstring comparison primitive\n- **caml_array_append**: Array append operation\n- **iarray primitives**: Immutable array support\n- **TLS runtime stubs**: Thread-local storage support\n- **caml_ml_set_channel_refill**: Stub for channel refill\n\n## Configuration Changes\n- **use-js-string default**: Changed from `true` to `false` (important monorepo compatibility)\n\n## Build System Fixes\n- **dune ppx flags**: Added `-no-check` flag to sedlex.ppx preprocessing\n- **build_fs.ml fix**: Added `globalThis.caml_create_file` fallback in filesystem initialization\n\n## Bug Fixes\n- **global_deadcode fix**: Guard against variables minted after info table construction\n- **flow.ml**: Added `info_defs_length` check to prevent index out of bounds\n- **optcomp_light fixes**: PPX preprocessor compatibility fixes"
}